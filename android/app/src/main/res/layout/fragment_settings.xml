<?xml version="1.0" encoding="utf-8"?>
<ScrollView
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:fillViewport="true">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="@dimen/spacing_lg">

        <!-- Title with iiSU Page Title style -->
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="@string/settings_title"
            style="@style/IisuTextAppearance.PageTitle" />

        <!-- Accent line under title -->
        <View
            android:layout_width="match_parent"
            android:layout_height="2dp"
            android:layout_marginTop="@dimen/spacing_sm"
            android:layout_marginBottom="@dimen/spacing_lg"
            android:background="@drawable/bg_accent_line" />

        <!-- Theme Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            app:cardBackgroundColor="@color/theme_surface"
            app:cardCornerRadius="@dimen/card_corner_radius"
            app:cardElevation="@dimen/card_elevation"
            app:strokeWidth="1dp"
            app:strokeColor="@color/theme_border_color">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="@dimen/spacing_md">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="@string/settings_theme"
                    android:textSize="@dimen/text_subtitle"
                    android:textColor="@color/theme_text_primary"
                    android:textStyle="bold" />

                <RadioGroup
                    android:id="@+id/radioGroupTheme"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_sm"
                    android:orientation="vertical">

                    <!-- Large touch targets for radio buttons -->
                    <RadioButton
                        android:id="@+id/radioThemeDark"
                        android:layout_width="match_parent"
                        android:layout_height="@dimen/button_min_height"
                        android:text="@string/settings_theme_dark"
                        android:textSize="@dimen/text_body"
                        android:paddingStart="@dimen/spacing_md"
                        android:paddingEnd="@dimen/spacing_md" />

                    <RadioButton
                        android:id="@+id/radioThemeLight"
                        android:layout_width="match_parent"
                        android:layout_height="@dimen/button_min_height"
                        android:text="@string/settings_theme_light"
                        android:textSize="@dimen/text_body"
                        android:paddingStart="@dimen/spacing_md"
                        android:paddingEnd="@dimen/spacing_md" />

                    <RadioButton
                        android:id="@+id/radioThemeSystem"
                        android:layout_width="match_parent"
                        android:layout_height="@dimen/button_min_height"
                        android:text="@string/settings_theme_system"
                        android:textSize="@dimen/text_body"
                        android:paddingStart="@dimen/spacing_md"
                        android:paddingEnd="@dimen/spacing_md" />

                </RadioGroup>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- API Keys Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/spacing_md"
            app:cardBackgroundColor="@color/theme_surface"
            app:cardCornerRadius="@dimen/card_corner_radius"
            app:cardElevation="@dimen/card_elevation"
            app:strokeWidth="1dp"
            app:strokeColor="@color/theme_border_color">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="@dimen/spacing_md">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="API Keys"
                    android:textSize="@dimen/text_subtitle"
                    android:textColor="@color/theme_text_primary"
                    android:textStyle="bold" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_xs"
                    android:text="API keys for artwork sources. SteamGridDB is recommended for heroes and logos."
                    android:textSize="12sp"
                    android:textColor="@color/theme_text_secondary" />

                <!-- SteamGridDB API Key -->
                <com.google.android.material.textfield.TextInputLayout
                    android:id="@+id/inputLayoutSgdbApiKey"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_sm"
                    android:hint="SteamGridDB API Key"
                    app:boxBackgroundColor="@color/theme_input_background"
                    app:boxStrokeColor="@color/theme_input_border"
                    app:hintTextColor="@color/theme_text_secondary"
                    app:endIconMode="password_toggle">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/editSgdbApiKey"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textPassword"
                        android:textColor="@color/theme_text_primary" />

                </com.google.android.material.textfield.TextInputLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_xs"
                    android:text="Get your free API key at steamgriddb.com/profile/preferences/api"
                    android:textSize="11sp"
                    android:textColor="@color/accent_cyan"
                    android:autoLink="web" />

                <!-- IGDB API Keys -->
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_md"
                    android:text="IGDB (Twitch) API"
                    android:textSize="14sp"
                    android:textColor="@color/theme_text_primary"
                    android:textStyle="bold" />

                <com.google.android.material.textfield.TextInputLayout
                    android:id="@+id/inputLayoutIgdbClientId"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_xs"
                    android:hint="IGDB Client ID"
                    app:boxBackgroundColor="@color/theme_input_background"
                    app:boxStrokeColor="@color/theme_input_border"
                    app:hintTextColor="@color/theme_text_secondary"
                    app:endIconMode="password_toggle">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/editIgdbClientId"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textPassword"
                        android:textColor="@color/theme_text_primary" />

                </com.google.android.material.textfield.TextInputLayout>

                <com.google.android.material.textfield.TextInputLayout
                    android:id="@+id/inputLayoutIgdbClientSecret"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_xs"
                    android:hint="IGDB Client Secret"
                    app:boxBackgroundColor="@color/theme_input_background"
                    app:boxStrokeColor="@color/theme_input_border"
                    app:hintTextColor="@color/theme_text_secondary"
                    app:endIconMode="password_toggle">

                    <com.google.android.material.textfield.TextInputEditText
                        android:id="@+id/editIgdbClientSecret"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:inputType="textPassword"
                        android:textColor="@color/theme_text_primary" />

                </com.google.android.material.textfield.TextInputLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_xs"
                    android:text="Get IGDB credentials at api.igdb.com (requires Twitch account)"
                    android:textSize="11sp"
                    android:textColor="@color/accent_cyan"
                    android:autoLink="web" />

                <Button
                    android:id="@+id/btnSaveApiKey"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_sm"
                    android:text="Save API Keys"
                    android:background="@drawable/bg_button_gradient"
                    android:textColor="@color/theme_text_primary" />

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Bulk Generation Settings Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/spacing_md"
            app:cardBackgroundColor="@color/theme_surface"
            app:cardCornerRadius="@dimen/card_corner_radius"
            app:cardElevation="@dimen/card_elevation"
            app:strokeWidth="1dp"
            app:strokeColor="@color/theme_border_color">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="@dimen/spacing_md">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Bulk Generation"
                    android:textSize="@dimen/text_subtitle"
                    android:textColor="@color/theme_text_primary"
                    android:textStyle="bold" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_xs"
                    android:text="Configure how bulk asset generation works."
                    android:textSize="12sp"
                    android:textColor="@color/theme_text_secondary" />

                <!-- Parallel Downloads Slider -->
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_md"
                    android:text="Parallel Downloads"
                    android:textSize="@dimen/text_body"
                    android:textColor="@color/theme_text_primary" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <com.google.android.material.slider.Slider
                        android:id="@+id/sliderParallelDownloads"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:valueFrom="1"
                        android:valueTo="8"
                        android:stepSize="1"
                        app:labelBehavior="gone" />

                    <TextView
                        android:id="@+id/textParallelCount"
                        android:layout_width="40dp"
                        android:layout_height="wrap_content"
                        android:text="3"
                        android:textSize="@dimen/text_body"
                        android:textColor="@color/accent_cyan"
                        android:textStyle="bold"
                        android:gravity="center" />

                </LinearLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Higher values = faster generation but more network load.\nRecommended: 3-4 for most connections."
                    android:textSize="11sp"
                    android:textColor="@color/theme_text_secondary" />

                <!-- Interactive Mode Toggle -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_md"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Interactive Mode"
                            android:textSize="@dimen/text_body"
                            android:textColor="@color/theme_text_primary" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Show picker dialog for each game during bulk generation"
                            android:textSize="11sp"
                            android:textColor="@color/theme_text_secondary" />

                    </LinearLayout>

                    <com.google.android.material.switchmaterial.SwitchMaterial
                        android:id="@+id/switchInteractiveMode"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- DS Mode Section (for dual-screen devices) -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/spacing_md"
            app:cardBackgroundColor="@color/theme_surface"
            app:cardCornerRadius="@dimen/card_corner_radius"
            app:cardElevation="@dimen/card_elevation"
            app:strokeWidth="1dp"
            app:strokeColor="@color/theme_border_color">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="@dimen/spacing_md">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Dual Screen Mode"
                    android:textSize="@dimen/text_subtitle"
                    android:textColor="@color/theme_text_primary"
                    android:textStyle="bold" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_xs"
                    android:text="Enable hero and logo sections for dual-screen devices or foldables."
                    android:textSize="12sp"
                    android:textColor="@color/theme_text_secondary" />

                <!-- DS Mode Toggle -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_md"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="DS Mode"
                            android:textSize="@dimen/text_body"
                            android:textColor="@color/theme_text_primary" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Show hero and logo download options (for iiSU Launcher extended display)"
                            android:textSize="11sp"
                            android:textColor="@color/theme_text_secondary" />

                    </LinearLayout>

                    <com.google.android.material.switchmaterial.SwitchMaterial
                        android:id="@+id/switchDsMode"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Source Priority Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/spacing_md"
            app:cardBackgroundColor="@color/theme_surface"
            app:cardCornerRadius="@dimen/card_corner_radius"
            app:cardElevation="@dimen/card_elevation"
            app:strokeWidth="1dp"
            app:strokeColor="@color/theme_border_color">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="@dimen/spacing_md">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Artwork Source Priority"
                    android:textSize="@dimen/text_subtitle"
                    android:textColor="@color/theme_text_primary"
                    android:textStyle="bold" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_xs"
                    android:text="Drag to reorder. Enabled sources are tried in order from top to bottom."
                    android:textSize="12sp"
                    android:textColor="@color/theme_text_secondary" />

                <androidx.recyclerview.widget.RecyclerView
                    android:id="@+id/recyclerSourcePriority"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_sm"
                    android:nestedScrollingEnabled="false" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_sm"
                    android:orientation="horizontal">

                    <com.google.android.material.button.MaterialButton
                        android:id="@+id/btnEnableAllSources"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Enable All"
                        style="@style/Widget.Material3.Button.TextButton" />

                    <com.google.android.material.button.MaterialButton
                        android:id="@+id/btnDisableAllSources"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Disable All"
                        style="@style/Widget.Material3.Button.TextButton" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Logo/Title Settings Section -->
        <com.google.android.material.card.MaterialCardView
            android:id="@+id/cardLogoSection"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/spacing_md"
            android:visibility="gone"
            app:cardBackgroundColor="@color/theme_surface"
            app:cardCornerRadius="@dimen/card_corner_radius"
            app:cardElevation="@dimen/card_elevation"
            app:strokeWidth="1dp"
            app:strokeColor="@color/theme_border_color">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="@dimen/spacing_md">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Title Image (title.png)"
                    android:textSize="@dimen/text_subtitle"
                    android:textColor="@color/theme_text_primary"
                    android:textStyle="bold" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_xs"
                    android:text="Game logos are transparent text/title images from SteamGridDB."
                    android:textSize="12sp"
                    android:textColor="@color/theme_text_secondary" />

                <!-- Scrape Logos Toggle -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_md"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Scrape Game Logos"
                            android:textSize="@dimen/text_body"
                            android:textColor="@color/theme_text_primary" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Download game logo images from SteamGridDB for title.png"
                            android:textSize="11sp"
                            android:textColor="@color/theme_text_secondary" />

                    </LinearLayout>

                    <com.google.android.material.switchmaterial.SwitchMaterial
                        android:id="@+id/switchScrapeLogos"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content" />

                </LinearLayout>

                <!-- Fallback to Boxart Toggle -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_sm"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Fallback to Boxart"
                            android:textSize="@dimen/text_body"
                            android:textColor="@color/theme_text_primary" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Use boxart/icon as title.png if no logo is found"
                            android:textSize="11sp"
                            android:textColor="@color/theme_text_secondary" />

                    </LinearLayout>

                    <com.google.android.material.switchmaterial.SwitchMaterial
                        android:id="@+id/switchLogoFallbackBoxart"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Hero Images Section -->
        <com.google.android.material.card.MaterialCardView
            android:id="@+id/cardHeroSection"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/spacing_md"
            android:visibility="gone"
            app:cardBackgroundColor="@color/theme_surface"
            app:cardCornerRadius="@dimen/card_corner_radius"
            app:cardElevation="@dimen/card_elevation"
            app:strokeWidth="1dp"
            app:strokeColor="@color/theme_border_color">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="@dimen/spacing_md">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Hero Images"
                    android:textSize="@dimen/text_subtitle"
                    android:textColor="@color/theme_text_primary"
                    android:textStyle="bold" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_xs"
                    android:text="Hero images are wide banner images (1920x620) from SteamGridDB."
                    android:textSize="12sp"
                    android:textColor="@color/theme_text_secondary" />

                <!-- Enable Hero Downloads Toggle -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_md"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Download Hero Images"
                            android:textSize="@dimen/text_body"
                            android:textColor="@color/theme_text_primary" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Download hero/banner images alongside icons"
                            android:textSize="11sp"
                            android:textColor="@color/theme_text_secondary" />

                    </LinearLayout>

                    <com.google.android.material.switchmaterial.SwitchMaterial
                        android:id="@+id/switchHeroEnabled"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content" />

                </LinearLayout>

                <!-- Heroes per game -->
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_md"
                    android:text="Heroes per game"
                    android:textSize="@dimen/text_body"
                    android:textColor="@color/theme_text_primary" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <com.google.android.material.slider.Slider
                        android:id="@+id/sliderHeroCount"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:valueFrom="1"
                        android:valueTo="5"
                        android:stepSize="1"
                        app:labelBehavior="gone" />

                    <TextView
                        android:id="@+id/textHeroCount"
                        android:layout_width="40dp"
                        android:layout_height="wrap_content"
                        android:text="1"
                        android:textSize="@dimen/text_body"
                        android:textColor="@color/accent_cyan"
                        android:textStyle="bold"
                        android:gravity="center" />

                </LinearLayout>

                <!-- Hero Crop Toggle -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_md"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Crop to 1920x1080"
                            android:textSize="@dimen/text_body"
                            android:textColor="@color/theme_text_primary" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Crop heroes to 16:9 aspect ratio for iiSU"
                            android:textSize="11sp"
                            android:textColor="@color/theme_text_secondary" />

                    </LinearLayout>

                    <com.google.android.material.switchmaterial.SwitchMaterial
                        android:id="@+id/switchHeroCrop"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content" />

                </LinearLayout>

                <!-- Crop Position Slider -->
                <LinearLayout
                    android:id="@+id/layoutHeroCropPosition"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_sm"
                    android:orientation="vertical"
                    android:visibility="gone">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Vertical crop position"
                        android:textSize="@dimen/text_body"
                        android:textColor="@color/theme_text_primary" />

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical">

                        <com.google.android.material.slider.Slider
                            android:id="@+id/sliderHeroCropPosition"
                            android:layout_width="0dp"
                            android:layout_height="wrap_content"
                            android:layout_weight="1"
                            android:valueFrom="0"
                            android:valueTo="1"
                            android:stepSize="0.1"
                            app:labelBehavior="gone" />

                        <TextView
                            android:id="@+id/textHeroCropPosition"
                            android:layout_width="60dp"
                            android:layout_height="wrap_content"
                            android:text="Center"
                            android:textSize="@dimen/text_body"
                            android:textColor="@color/accent_cyan"
                            android:textStyle="bold"
                            android:gravity="center" />

                    </LinearLayout>

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Screenshots Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/spacing_md"
            app:cardBackgroundColor="@color/theme_surface"
            app:cardCornerRadius="@dimen/card_corner_radius"
            app:cardElevation="@dimen/card_elevation"
            app:strokeWidth="1dp"
            app:strokeColor="@color/theme_border_color">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="@dimen/spacing_md">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Screenshots"
                    android:textSize="@dimen/text_subtitle"
                    android:textColor="@color/theme_text_primary"
                    android:textStyle="bold" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_xs"
                    android:text="Game screenshots from Libretro thumbnails. Named slide_1.png, slide_2.png, etc."
                    android:textSize="12sp"
                    android:textColor="@color/theme_text_secondary" />

                <!-- Enable Screenshots Toggle -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_md"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Download Screenshots"
                            android:textSize="@dimen/text_body"
                            android:textColor="@color/theme_text_primary" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Download game screenshots alongside icons"
                            android:textSize="11sp"
                            android:textColor="@color/theme_text_secondary" />

                    </LinearLayout>

                    <com.google.android.material.switchmaterial.SwitchMaterial
                        android:id="@+id/switchScreenshotsEnabled"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content" />

                </LinearLayout>

                <!-- Screenshots per game -->
                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_md"
                    android:text="Screenshots per game"
                    android:textSize="@dimen/text_body"
                    android:textColor="@color/theme_text_primary" />

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <com.google.android.material.slider.Slider
                        android:id="@+id/sliderScreenshotCount"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:valueFrom="1"
                        android:valueTo="10"
                        android:stepSize="1"
                        app:labelBehavior="gone" />

                    <TextView
                        android:id="@+id/textScreenshotCount"
                        android:layout_width="40dp"
                        android:layout_height="wrap_content"
                        android:text="3"
                        android:textSize="@dimen/text_body"
                        android:textColor="@color/accent_cyan"
                        android:textStyle="bold"
                        android:gravity="center" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Custom Border Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/spacing_md"
            app:cardBackgroundColor="@color/theme_surface"
            app:cardCornerRadius="@dimen/card_corner_radius"
            app:cardElevation="@dimen/card_elevation"
            app:strokeWidth="1dp"
            app:strokeColor="@color/theme_border_color">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="@dimen/spacing_md">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Custom Border"
                    android:textSize="@dimen/text_subtitle"
                    android:textColor="@color/theme_text_primary"
                    android:textStyle="bold" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_xs"
                    android:text="Use a custom border image instead of platform-specific borders."
                    android:textSize="12sp"
                    android:textColor="@color/theme_text_secondary" />

                <!-- Use Custom Border Toggle -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_md"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Use Custom Border"
                            android:textSize="@dimen/text_body"
                            android:textColor="@color/theme_text_primary" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Override platform borders with your custom image"
                            android:textSize="11sp"
                            android:textColor="@color/theme_text_secondary" />

                    </LinearLayout>

                    <com.google.android.material.switchmaterial.SwitchMaterial
                        android:id="@+id/switchUseCustomBorder"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content" />

                </LinearLayout>

                <!-- Custom Border Preview and Selection -->
                <LinearLayout
                    android:id="@+id/layoutCustomBorder"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_md"
                    android:orientation="vertical"
                    android:visibility="gone">

                    <!-- Preview -->
                    <ImageView
                        android:id="@+id/imageCustomBorderPreview"
                        android:layout_width="128dp"
                        android:layout_height="128dp"
                        android:layout_gravity="center_horizontal"
                        android:scaleType="fitCenter"
                        android:background="@drawable/bg_border_preview"
                        android:contentDescription="Custom border preview" />

                    <TextView
                        android:id="@+id/textCustomBorderPath"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/spacing_sm"
                        android:text="No custom border selected"
                        android:textSize="12sp"
                        android:textColor="@color/theme_text_secondary"
                        android:gravity="center"
                        android:ellipsize="middle"
                        android:singleLine="true" />

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:layout_marginTop="@dimen/spacing_sm"
                        android:orientation="horizontal"
                        android:gravity="center">

                        <com.google.android.material.button.MaterialButton
                            android:id="@+id/btnSelectCustomBorder"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Select Image"
                            style="@style/Widget.Material3.Button.OutlinedButton" />

                        <com.google.android.material.button.MaterialButton
                            android:id="@+id/btnClearCustomBorder"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:layout_marginStart="@dimen/spacing_sm"
                            android:text="Clear"
                            style="@style/Widget.Material3.Button.TextButton" />

                    </LinearLayout>

                </LinearLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_sm"
                    android:text="Recommended: 1024x1024 PNG with transparency for best results."
                    android:textSize="11sp"
                    android:textColor="@color/theme_text_secondary" />

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Custom Asset Directory Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/spacing_md"
            app:cardBackgroundColor="@color/theme_surface"
            app:cardCornerRadius="@dimen/card_corner_radius"
            app:cardElevation="@dimen/card_elevation"
            app:strokeWidth="1dp"
            app:strokeColor="@color/theme_border_color">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="@dimen/spacing_md">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Asset Directory"
                    android:textSize="@dimen/text_subtitle"
                    android:textColor="@color/theme_text_primary"
                    android:textStyle="bold" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_xs"
                    android:text="Set a custom directory for iiSU assets (e.g., SD card or external storage)."
                    android:textSize="12sp"
                    android:textColor="@color/theme_text_secondary" />

                <!-- Current Directory -->
                <TextView
                    android:id="@+id/textCustomAssetDir"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_sm"
                    android:text="Default (iiSU Launcher media folder)"
                    android:textSize="13sp"
                    android:textColor="@color/accent_cyan"
                    android:background="@color/theme_input_background"
                    android:padding="@dimen/spacing_sm" />

                <!-- Directory Buttons -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_sm"
                    android:orientation="horizontal">

                    <Button
                        android:id="@+id/btnSelectAssetDir"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:layout_marginEnd="@dimen/spacing_xs"
                        android:text="Select Directory"
                        android:background="@drawable/bg_button_gradient"
                        android:textColor="@color/theme_text_primary" />

                    <Button
                        android:id="@+id/btnClearAssetDir"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Reset"
                        android:textColor="@color/theme_text_secondary"
                        style="?attr/borderlessButtonStyle" />

                </LinearLayout>

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_sm"
                    android:text="Useful if your iiSU assets are stored on an SD card or different location."
                    android:textSize="11sp"
                    android:textColor="@color/theme_text_secondary" />

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Fallback Icons Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/spacing_md"
            app:cardBackgroundColor="@color/theme_surface"
            app:cardCornerRadius="@dimen/card_corner_radius"
            app:cardElevation="@dimen/card_elevation"
            app:strokeWidth="1dp"
            app:strokeColor="@color/theme_border_color">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="@dimen/spacing_md">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Fallback Icons"
                    android:textSize="@dimen/text_subtitle"
                    android:textColor="@color/theme_text_primary"
                    android:textStyle="bold" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_xs"
                    android:text="Options for when game artwork cannot be found."
                    android:textSize="12sp"
                    android:textColor="@color/theme_text_secondary" />

                <!-- Use Platform Icon as Fallback -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_md"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Use Platform Icon Fallback"
                            android:textSize="@dimen/text_body"
                            android:textColor="@color/theme_text_primary" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Use generic platform icon when artwork not found"
                            android:textSize="11sp"
                            android:textColor="@color/theme_text_secondary" />

                    </LinearLayout>

                    <com.google.android.material.switchmaterial.SwitchMaterial
                        android:id="@+id/switchUseFallback"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content" />

                </LinearLayout>

                <!-- Skip Scraping Toggle -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_sm"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Skip Scraping"
                            android:textSize="@dimen/text_body"
                            android:textColor="@color/theme_text_primary" />

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="Always use platform icon (don't search for artwork)"
                            android:textSize="11sp"
                            android:textColor="@color/theme_text_secondary" />

                    </LinearLayout>

                    <com.google.android.material.switchmaterial.SwitchMaterial
                        android:id="@+id/switchSkipScraping"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Export Format Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/spacing_md"
            app:cardBackgroundColor="@color/theme_surface"
            app:cardCornerRadius="@dimen/card_corner_radius"
            app:cardElevation="@dimen/card_elevation"
            app:strokeWidth="1dp"
            app:strokeColor="@color/theme_border_color">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="@dimen/spacing_md">

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Export Format"
                    android:textSize="@dimen/text_subtitle"
                    android:textColor="@color/theme_text_primary"
                    android:textStyle="bold" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_xs"
                    android:text="PNG is recommended for iiSU Launcher. JPEG creates smaller files."
                    android:textSize="12sp"
                    android:textColor="@color/theme_text_secondary" />

                <!-- Format Selection -->
                <RadioGroup
                    android:id="@+id/radioGroupExportFormat"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_sm"
                    android:orientation="horizontal">

                    <RadioButton
                        android:id="@+id/radioFormatPng"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="PNG"
                        android:textColor="@color/theme_text_primary" />

                    <RadioButton
                        android:id="@+id/radioFormatJpeg"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="@dimen/spacing_lg"
                        android:text="JPEG"
                        android:textColor="@color/theme_text_primary" />

                </RadioGroup>

                <!-- JPEG Quality -->
                <TextView
                    android:id="@+id/labelJpegQuality"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_marginTop="@dimen/spacing_md"
                    android:text="JPEG Quality"
                    android:textSize="@dimen/text_body"
                    android:textColor="@color/theme_text_primary" />

                <LinearLayout
                    android:id="@+id/layoutJpegQuality"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <com.google.android.material.slider.Slider
                        android:id="@+id/sliderJpegQuality"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:valueFrom="50"
                        android:valueTo="100"
                        android:stepSize="5"
                        app:labelBehavior="gone" />

                    <TextView
                        android:id="@+id/textJpegQuality"
                        android:layout_width="50dp"
                        android:layout_height="wrap_content"
                        android:text="95%"
                        android:textSize="@dimen/text_body"
                        android:textColor="@color/accent_cyan"
                        android:textStyle="bold"
                        android:gravity="center" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- About Section -->
        <com.google.android.material.card.MaterialCardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_marginTop="@dimen/spacing_md"
            app:cardBackgroundColor="@color/theme_surface"
            app:cardCornerRadius="@dimen/card_corner_radius"
            app:cardElevation="@dimen/card_elevation"
            app:strokeWidth="1dp"
            app:strokeColor="@color/theme_border_color">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="@dimen/spacing_md">

                <!-- iiSU Logo -->
                <ImageView
                    android:id="@+id/imageIisuLogo"
                    android:layout_width="160dp"
                    android:layout_height="60dp"
                    android:layout_gravity="center_horizontal"
                    android:layout_marginBottom="@dimen/spacing_sm"
                    android:src="@drawable/iisu_logo"
                    android:scaleType="fitCenter"
                    android:contentDescription="iiSU Logo" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_gravity="center_horizontal"
                    android:text="@string/settings_about"
                    android:textSize="@dimen/text_subtitle"
                    android:textColor="@color/theme_text_primary"
                    android:textStyle="bold" />

                <TextView
                    android:id="@+id/textVersion"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_gravity="center_horizontal"
                    android:layout_marginTop="@dimen/spacing_sm"
                    android:textSize="@dimen/text_body"
                    android:textColor="@color/theme_text_secondary" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:layout_gravity="center_horizontal"
                    android:layout_marginTop="@dimen/spacing_sm"
                    android:text="iiSU Asset Tool for Android\nGenerate game artwork for your retro gaming library."
                    android:textSize="@dimen/text_body"
                    android:textColor="@color/theme_text_secondary"
                    android:gravity="center" />

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

    </LinearLayout>

</ScrollView>
